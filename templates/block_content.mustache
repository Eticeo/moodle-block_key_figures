{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template block_key_figures/block_content

    Template for the key figures block content

    Example context (json):
    {
        "instanceid": 123,
        "hasstyles": true,
        "styles": [
            {
                "selector": "#inst123 .block_key_figures_title h2",
                "property": "color",
                "value": "#000000"
            }
        ],
        "title": {
            "title": "Key Figures",
            "subtitle": "Statistics",
            "hassubtext": true,
            "subtext": "Additional information"
        },
        "blocks": [
            {
                "blocknum": 1,
                "colclass": "col-4",
                "flexdirection": "row",
                "hasicon": true,
                "icon": "fa fa-chart",
                "iscolumn": false,
                "numbers": [
                    {
                        "id": "number_123_1_1",
                        "number": "100",
                        "caption": "Students"
                    }
                ]
            }
        ],
        "containerclasses": "block_key_figures_container border_display"
    }
}}
{{#hasstyles}}
<style>
{{#styles}}
{{selector}} {
    {{property}}: {{value}} !important;
}
{{/styles}}
</style>
{{/hasstyles}}

<div class="block_key_figures_title">
    <h2>{{title.title}}</h2>
    {{#title.subtitle}}
    <span>{{title.subtitle}}</span>
    {{/title.subtitle}}
    {{#title.hassubtext}}
    <div class="sub_text">{{{title.subtext}}}</div>
    {{/title.hassubtext}}
</div>

<div class="{{containerclasses}}">
    {{#blocks}}
    <div class="sub_block_key_figures {{colclass}}">
        {{#hasicon}}
        <div class="block_title"><i class="{{icon}}"></i></div>
        {{/hasicon}}

        {{#iscolumn}}
        <div class="row">
            {{#numbers}}
            <div class="col row-numbers">
                <div class="col-number" id="{{id}}">{{number}}</div>
                <div class="col-number-caption">{{caption}}</div>
            </div>
            {{/numbers}}
        </div>
        {{/iscolumn}}
        {{^iscolumn}}
        <table>
            {{#numbers}}
            <tr class="row-numbers">
                <td class="col-number" id="{{id}}">{{number}}</td>
                <td class="col-number-caption">{{caption}}</td>
            </tr>
            {{/numbers}}
        </table>
        {{/iscolumn}}
    </div>
    {{/blocks}}
</div>

