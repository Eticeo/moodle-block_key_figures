define("block_key_figures/editform",["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;function block_key_figures_waitmodal(instid){var selector;(selector="input[name='blockid'][value='"+instid+"']",new Promise((resolve=>{if(document.querySelector(selector))return resolve(document.querySelector(selector));const observer=new MutationObserver((mutations=>{document.querySelector(selector)&&(resolve(document.querySelector(selector)),observer.disconnect())}));observer.observe(document.body,{childList:!0,subtree:!0})}))).then((elm=>{block_key_figures_on_open(),function(instid){(function(selector){return new Promise((resolve=>{if(!document.querySelector(selector))return resolve(document.querySelector(selector));const observer=new MutationObserver((mutations=>{document.querySelector(selector)||(resolve(document.querySelector(selector)),observer.disconnect())}));observer.observe(document.body,{childList:!0,subtree:!0})}))})("input[name='blockid'][value='"+instid+"']").then((elm=>{block_key_figures_on_open(),block_key_figures_waitmodal(instid)}))}(instid)}))}function block_key_figures_on_open(){document.querySelectorAll('[id^="id_config_block_number"]').forEach((function(element){block_key_figures_manage_lines(element,"id_configheader"),element.addEventListener("change",(function(){block_key_figures_manage_lines(element,"id_configheader")}))})),document.querySelectorAll('[id^="id_config_line_number_"]').forEach((function(element){block_key_figures_change_line(element),element.addEventListener("change",(function(){block_key_figures_change_line(element)}))}))}function block_key_figures_manage_lines(element,targetId){var blockNumber=parseInt(element.value);document.querySelectorAll('[id^="'+targetId+'"]').forEach((function(element){let match=element.id.match(new RegExp(targetId+"(\\d+)_"));if(match){let num=parseInt(match[1]);element.style.display=num>blockNumber?"none":"block"}}))}function block_key_figures_change_line(object){var blockNum=object.id;block_key_figures_manage_lines(object,"fitem_id_config_number_"+(blockNum=parseInt(blockNum.replace("id_config_line_number_","")))+"_"),block_key_figures_manage_lines(object,"fitem_id_config_number_caption_"+blockNum+"_")}_exports.init=(instid,waitModal)=>{window.block_key_figures_manage_lines=block_key_figures_manage_lines,window.block_key_figures_change_line=block_key_figures_change_line,waitModal?block_key_figures_waitmodal(instid):block_key_figures_on_open()}}));

//# sourceMappingURL=editform.min.js.map